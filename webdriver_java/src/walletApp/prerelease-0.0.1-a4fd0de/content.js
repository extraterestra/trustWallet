(()=>{var xe={97034:I=>{"use strict";var A=typeof Reflect=="object"?Reflect:null,x=A&&typeof A.apply=="function"?A.apply:function(i,a,c){return Function.prototype.apply.call(i,a,c)},C;A&&typeof A.ownKeys=="function"?C=A.ownKeys:Object.getOwnPropertySymbols?C=function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:C=function(i){return Object.getOwnPropertyNames(i)};function N(o){console&&console.warn&&console.warn(o)}var j=Number.isNaN||function(i){return i!==i};function g(){g.init.call(this)}I.exports=g,I.exports.once=R,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var V=10;function M(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return V},set:function(o){if(typeof o!="number"||o<0||j(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");V=o}}),g.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||j(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this};function E(o){return o._maxListeners===void 0?g.defaultMaxListeners:o._maxListeners}g.prototype.getMaxListeners=function(){return E(this)},g.prototype.emit=function(i){for(var a=[],c=1;c<arguments.length;c++)a.push(arguments[c]);var m=i==="error",v=this._events;if(v!==void 0)m=m&&v.error===void 0;else if(!m)return!1;if(m){var r;if(a.length>0&&(r=a[0]),r instanceof Error)throw r;var u=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw u.context=r,u}var f=v[i];if(f===void 0)return!1;if(typeof f=="function")x(f,this,a);else for(var y=f.length,T=S(f,y),c=0;c<y;++c)x(T[c],this,a);return!0};function P(o,i,a,c){var m,v,r;if(M(a),v=o._events,v===void 0?(v=o._events=Object.create(null),o._eventsCount=0):(v.newListener!==void 0&&(o.emit("newListener",i,a.listener?a.listener:a),v=o._events),r=v[i]),r===void 0)r=v[i]=a,++o._eventsCount;else if(typeof r=="function"?r=v[i]=c?[a,r]:[r,a]:c?r.unshift(a):r.push(a),m=E(o),m>0&&r.length>m&&!r.warned){r.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=o,u.type=i,u.count=r.length,N(u)}return o}g.prototype.addListener=function(i,a){return P(this,i,a,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(i,a){return P(this,i,a,!0)};function O(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function q(o,i,a){var c={fired:!1,wrapFn:void 0,target:o,type:i,listener:a},m=O.bind(c);return m.listener=a,c.wrapFn=m,m}g.prototype.once=function(i,a){return M(a),this.on(i,q(this,i,a)),this},g.prototype.prependOnceListener=function(i,a){return M(a),this.prependListener(i,q(this,i,a)),this},g.prototype.removeListener=function(i,a){var c,m,v,r,u;if(M(a),m=this._events,m===void 0)return this;if(c=m[i],c===void 0)return this;if(c===a||c.listener===a)--this._eventsCount===0?this._events=Object.create(null):(delete m[i],m.removeListener&&this.emit("removeListener",i,c.listener||a));else if(typeof c!="function"){for(v=-1,r=c.length-1;r>=0;r--)if(c[r]===a||c[r].listener===a){u=c[r].listener,v=r;break}if(v<0)return this;v===0?c.shift():b(c,v),c.length===1&&(m[i]=c[0]),m.removeListener!==void 0&&this.emit("removeListener",i,u||a)}return this},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(i){var a,c,m;if(c=this._events,c===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[i]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete c[i]),this;if(arguments.length===0){var v=Object.keys(c),r;for(m=0;m<v.length;++m)r=v[m],r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(a=c[i],typeof a=="function")this.removeListener(i,a);else if(a!==void 0)for(m=a.length-1;m>=0;m--)this.removeListener(i,a[m]);return this};function G(o,i,a){var c=o._events;if(c===void 0)return[];var m=c[i];return m===void 0?[]:typeof m=="function"?a?[m.listener||m]:[m]:a?k(m):S(m,m.length)}g.prototype.listeners=function(i){return G(this,i,!0)},g.prototype.rawListeners=function(i){return G(this,i,!1)},g.listenerCount=function(o,i){return typeof o.listenerCount=="function"?o.listenerCount(i):U.call(o,i)},g.prototype.listenerCount=U;function U(o){var i=this._events;if(i!==void 0){var a=i[o];if(typeof a=="function")return 1;if(a!==void 0)return a.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]};function S(o,i){for(var a=new Array(i),c=0;c<i;++c)a[c]=o[c];return a}function b(o,i){for(;i+1<o.length;i++)o[i]=o[i+1];o.pop()}function k(o){for(var i=new Array(o.length),a=0;a<i.length;++a)i[a]=o[a].listener||o[a];return i}function R(o,i){return new Promise(function(a,c){function m(r){o.removeListener(i,v),c(r)}function v(){typeof o.removeListener=="function"&&o.removeListener("error",m),a([].slice.call(arguments))}z(o,i,v,{once:!0}),i!=="error"&&J(o,m,{once:!0})})}function J(o,i,a){typeof o.on=="function"&&z(o,"error",i,a)}function z(o,i,a,c){if(typeof o.on=="function")c.once?o.once(i,a):o.on(i,a);else if(typeof o.addEventListener=="function")o.addEventListener(i,function m(v){c.once&&o.removeEventListener(i,m),a(v)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},16171:I=>{var A=I.exports={},x,C;function N(){throw new Error("setTimeout has not been defined")}function j(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?x=setTimeout:x=N}catch(b){x=N}try{typeof clearTimeout=="function"?C=clearTimeout:C=j}catch(b){C=j}})();function g(b){if(x===setTimeout)return setTimeout(b,0);if((x===N||!x)&&setTimeout)return x=setTimeout,setTimeout(b,0);try{return x(b,0)}catch(k){try{return x.call(null,b,0)}catch(R){return x.call(this,b,0)}}}function V(b){if(C===clearTimeout)return clearTimeout(b);if((C===j||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(b);try{return C(b)}catch(k){try{return C.call(null,b)}catch(R){return C.call(this,b)}}}var M=[],E=!1,P,O=-1;function q(){!E||!P||(E=!1,P.length?M=P.concat(M):O=-1,M.length&&G())}function G(){if(!E){var b=g(q);E=!0;for(var k=M.length;k;){for(P=M,M=[];++O<k;)P&&P[O].run();O=-1,k=M.length}P=null,E=!1,V(b)}}A.nextTick=function(b){var k=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)k[R-1]=arguments[R];M.push(new U(b,k)),M.length===1&&!E&&g(G)};function U(b,k){this.fun=b,this.array=k}U.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={};function S(){}A.on=S,A.addListener=S,A.once=S,A.off=S,A.removeListener=S,A.removeAllListeners=S,A.emit=S,A.prependListener=S,A.prependOnceListener=S,A.listeners=function(b){return[]},A.binding=function(b){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(b){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},9171:function(I,A){var x,C,N;(function(j,g){if(!0)C=[I],x=g,N=typeof x=="function"?x.apply(A,C):x,N!==void 0&&(I.exports=N);else var V})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(j){"use strict";if(typeof browser=="undefined"||Object.getPrototypeOf(browser)!==Object.prototype){const g="The message port closed before a response was received.",V="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",M=E=>{const P={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(P).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class O extends WeakMap{constructor(u,f=void 0){super(f);this.createItem=u}get(u){return this.has(u)||this.set(u,this.createItem(u)),super.get(u)}}const q=r=>r&&typeof r=="object"&&typeof r.then=="function",G=(r,u)=>(...f)=>{E.runtime.lastError?r.reject(new Error(E.runtime.lastError.message)):u.singleCallbackArg||f.length<=1&&u.singleCallbackArg!==!1?r.resolve(f[0]):r.resolve(f)},U=r=>r==1?"argument":"arguments",S=(r,u)=>function(y,...T){if(T.length<u.minArgs)throw new Error(`Expected at least ${u.minArgs} ${U(u.minArgs)} for ${r}(), got ${T.length}`);if(T.length>u.maxArgs)throw new Error(`Expected at most ${u.maxArgs} ${U(u.maxArgs)} for ${r}(), got ${T.length}`);return new Promise((B,D)=>{if(u.fallbackToNoCallback)try{y[r](...T,G({resolve:B,reject:D},u))}catch(p){console.warn(`${r} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,p),y[r](...T),u.fallbackToNoCallback=!1,u.noCallback=!0,B()}else u.noCallback?(y[r](...T),B()):y[r](...T,G({resolve:B,reject:D},u))})},b=(r,u,f)=>new Proxy(u,{apply(y,T,B){return f.call(T,r,...B)}});let k=Function.call.bind(Object.prototype.hasOwnProperty);const R=(r,u={},f={})=>{let y=Object.create(null),T={has(D,p){return p in r||p in y},get(D,p,F){if(p in y)return y[p];if(!(p in r))return;let L=r[p];if(typeof L=="function")if(typeof u[p]=="function")L=b(r,r[p],u[p]);else if(k(f,p)){let K=S(p,f[p]);L=b(r,r[p],K)}else L=L.bind(r);else if(typeof L=="object"&&L!==null&&(k(u,p)||k(f,p)))L=R(L,u[p],f[p]);else if(k(f,"*"))L=R(L,u[p],f["*"]);else return Object.defineProperty(y,p,{configurable:!0,enumerable:!0,get(){return r[p]},set(K){r[p]=K}}),L;return y[p]=L,L},set(D,p,F,L){return p in y?y[p]=F:r[p]=F,!0},defineProperty(D,p,F){return Reflect.defineProperty(y,p,F)},deleteProperty(D,p){return Reflect.deleteProperty(y,p)}},B=Object.create(r);return new Proxy(B,T)},J=r=>({addListener(u,f,...y){u.addListener(r.get(f),...y)},hasListener(u,f){return u.hasListener(r.get(f))},removeListener(u,f){u.removeListener(r.get(f))}}),z=new O(r=>typeof r!="function"?r:function(f){const y=R(f,{},{getContent:{minArgs:0,maxArgs:0}});r(y)});let o=!1;const i=new O(r=>typeof r!="function"?r:function(f,y,T){let B=!1,D,p=new Promise(H=>{D=function(W){o||(console.warn(V,new Error().stack),o=!0),B=!0,H(W)}}),F;try{F=r(f,y,D)}catch(H){F=Promise.reject(H)}const L=F!==!0&&q(F);if(F!==!0&&!L&&!B)return!1;const K=H=>{H.then(W=>{T(W)},W=>{let Z;W&&(W instanceof Error||typeof W.message=="string")?Z=W.message:Z="An unexpected error occurred",T({__mozWebExtensionPolyfillReject__:!0,message:Z})}).catch(W=>{console.error("Failed to send onMessage rejected reply",W)})};return K(L?F:p),!0}),a=({reject:r,resolve:u},f)=>{E.runtime.lastError?E.runtime.lastError.message===g?u():r(new Error(E.runtime.lastError.message)):f&&f.__mozWebExtensionPolyfillReject__?r(new Error(f.message)):u(f)},c=(r,u,f,...y)=>{if(y.length<u.minArgs)throw new Error(`Expected at least ${u.minArgs} ${U(u.minArgs)} for ${r}(), got ${y.length}`);if(y.length>u.maxArgs)throw new Error(`Expected at most ${u.maxArgs} ${U(u.maxArgs)} for ${r}(), got ${y.length}`);return new Promise((T,B)=>{const D=a.bind(null,{resolve:T,reject:B});y.push(D),f.sendMessage(...y)})},m={devtools:{network:{onRequestFinished:J(z)}},runtime:{onMessage:J(i),onMessageExternal:J(i),sendMessage:c.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:c.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return P.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},R(E,m,P)};if(typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");j.exports=M(chrome)}else j.exports=browser})}},ae={};function Y(I){var A=ae[I];if(A!==void 0)return A.exports;var x=ae[I]={exports:{}};return xe[I].call(x.exports,x,x.exports,Y),x.exports}var dt={};(()=>{"use strict";var I=Y(16171);function A(e){return!!(e&&typeof e.then=="function")}var x=Promise.resolve(!1),C=Promise.resolve(!0),N=Promise.resolve();function j(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function g(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function V(){return Math.random().toString(36).substring(2)}var M=0,E=0;function P(){var e=new Date().getTime();return e===M?(E++,e*1e3+E):(M=e,E=0,e*1e3)}var O=Object.prototype.toString.call(typeof I!="undefined"?I:0)==="[object process]",q=P,G="native";function U(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function S(e){e.bc.close(),e.subFns=[]}function b(e,t){try{return e.bc.postMessage(t,!1),N}catch(n){return Promise.reject(n)}}function k(e,t){e.messagesCallback=t}function R(){if(O&&typeof window=="undefined")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function J(){return 150}const z={create:U,close:S,onMessage:k,postMessage:b,canBeUsed:R,type:G,averageResponseTime:J,microSeconds:q};var o=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,a()),this.set.add(t),setTimeout(function(){i(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function i(e){for(var t=a()-e.ttl,n=e.set[Symbol.iterator]();;){var s=n.next().value;if(!s)return;var l=e.timeMap.get(s);if(l<t)e.timeMap.delete(s),e.set.delete(s);else return}}function a(){return new Date().getTime()}function c(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport=="undefined"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath=="undefined"&&(t.node.useFastPath=!0),t}var m=P,v="pubkey.broadcast-channel-0-",r="messages",u="idb";function f(){if(typeof indexedDB!="undefined")return indexedDB;if(typeof window!="undefined"){if(typeof window.mozIndexedDB!="undefined")return window.mozIndexedDB;if(typeof window.webkitIndexedDB!="undefined")return window.webkitIndexedDB;if(typeof window.msIndexedDB!="undefined")return window.msIndexedDB}return!1}function y(e){var t=f(),n=v+e,s=t.open(n,1);s.onupgradeneeded=function(d){var h=d.target.result;h.createObjectStore(r,{keyPath:"id",autoIncrement:!0})};var l=new Promise(function(d,h){s.onerror=function(_){return h(_)},s.onsuccess=function(){d(s.result)}});return l}function T(e,t,n){var s=new Date().getTime(),l={uuid:t,time:s,data:n},d=e.transaction([r],"readwrite");return new Promise(function(h,_){d.oncomplete=function(){return h()},d.onerror=function($){return _($)};var w=d.objectStore(r);w.add(l)})}function B(e){var t=e.transaction(r).objectStore(r),n=[];return new Promise(function(s){t.openCursor().onsuccess=function(l){var d=l.target.result;d?(n.push(d.value),d.continue()):s(n)}})}function D(e,t){var n=e.transaction(r).objectStore(r),s=[];function l(){try{var d=IDBKeyRange.bound(t+1,1/0);return n.openCursor(d)}catch(h){return n.openCursor()}}return new Promise(function(d){l().onsuccess=function(h){var _=h.target.result;_?_.value.id<t+1?_.continue(t+1):(s.push(_.value),_.continue()):d(s)}})}function p(e,t){var n=e.transaction([r],"readwrite").objectStore(r).delete(t);return new Promise(function(s){n.onsuccess=function(){return s()}})}function F(e,t){var n=new Date().getTime()-t,s=e.transaction(r).objectStore(r),l=[];return new Promise(function(d){s.openCursor().onsuccess=function(h){var _=h.target.result;if(_){var w=_.value;if(w.time<n)l.push(w),_.continue();else{d(l);return}}else d(l)}})}function L(e,t){return F(e,t).then(function(n){return Promise.all(n.map(function(s){return p(e,s.id)}))})}function K(e,t){return t=c(t),y(e).then(function(n){var s={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:V(),eMIs:new o(t.idb.ttl*2),writeBlockPromise:N,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){s.closed=!0,t.idb.onclose&&t.idb.onclose()},H(s),s})}function H(e){e.closed||Z(e).then(function(){return j(e.options.idb.fallbackInterval)}).then(function(){return H(e)})}function W(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Z(e){return e.closed||!e.messagesCallback?N:D(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(s){return!!s}).map(function(s){return s.id>e.lastCursorId&&(e.lastCursorId=s.id),s}).filter(function(s){return W(s,e)}).sort(function(s,l){return s.time-l.time});return n.forEach(function(s){e.messagesCallback&&(e.eMIs.add(s.id),e.messagesCallback(s.data))}),N})}function we(e){e.closed=!0,e.db.close()}function Te(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return T(e.db,e.uuid,t)}).then(function(){g(0,10)===0&&L(e.db,e.options.idb.ttl)}),e.writeBlockPromise}function Ee(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Z(e)}function Le(){if(O)return!1;var e=f();return!!e}function Ce(e){return e.idb.fallbackInterval*2}const Me={create:K,close:we,onMessage:Ee,postMessage:Te,canBeUsed:Le,type:u,averageResponseTime:Ce,microSeconds:m};var Pe=P,ke="pubkey.broadcastChannel-",Ne="localstorage";function le(){var e;if(typeof window=="undefined")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return e}function ue(e){return ke+e}function Se(e,t){return new Promise(function(n){j().then(function(){var s=ue(e.channelName),l={token:V(),time:new Date().getTime(),data:t,uuid:e.uuid},d=JSON.stringify(l);le().setItem(s,d);var h=document.createEvent("Event");h.initEvent("storage",!0,!0),h.key=s,h.newValue=d,window.dispatchEvent(h),n()})})}function Re(e,t){var n=ue(e),s=function(d){d.key===n&&t(JSON.parse(d.newValue))};return window.addEventListener("storage",s),s}function Ie(e){window.removeEventListener("storage",e)}function Oe(e,t){if(t=c(t),!ce())throw new Error("BroadcastChannel: localstorage cannot be used");var n=V(),s=new o(t.localstorage.removeTimeout),l={channelName:e,uuid:n,eMIs:s};return l.listener=Re(e,function(d){!l.messagesCallback||d.uuid!==n&&(!d.token||s.has(d.token)||d.data.time&&d.data.time<l.messagesCallbackTime||(s.add(d.token),l.messagesCallback(d.data)))}),l}function Be(e){Ie(e.listener)}function De(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function ce(){if(O)return!1;var e=le();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(n){return!1}return!0}function Fe(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}const je={create:Oe,close:Be,onMessage:De,postMessage:Se,canBeUsed:ce,type:Ne,averageResponseTime:Fe,microSeconds:Pe};var Ue=P,We="simulate",ee=new Set;function Ve(e){var t={name:e,messagesCallback:null};return ee.add(t),t}function Ge(e){ee.delete(e)}function $e(e,t){return new Promise(function(n){return setTimeout(function(){var s=Array.from(ee);s.filter(function(l){return l.name===e.name}).filter(function(l){return l!==e}).filter(function(l){return!!l.messagesCallback}).forEach(function(l){return l.messagesCallback(t)}),n()},5)})}function qe(e,t){e.messagesCallback=t}function Ke(){return!0}function He(){return 5}const Je={create:Ve,close:Ge,onMessage:qe,postMessage:$e,canBeUsed:Ke,type:We,averageResponseTime:He,microSeconds:Ue};var me=[z,Me,je];function ze(e){var t=[].concat(e.methods,me).filter(Boolean);if(e.type){if(e.type==="simulate")return Je;var n=t.find(function(l){return l.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!O&&(t=t.filter(function(l){return l.type!=="idb"}));var s=t.find(function(l){return l.canBeUsed()});if(s)return s;throw new Error("No useable method found in "+JSON.stringify(me.map(function(l){return l.type})))}var de=new Set,Ze=0,te=function(t,n){this.id=Ze++,de.add(this),this.name=t,ne&&(n=ne),this.options=c(n),this.method=ze(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Qe(this)};te._pubkey=!0;function ft(e){e=fillOptionsWithDefaults(e);var t=chooseMethod(e);return t.type==="node"?t.clearNodeFolder().then(function(){return!0}):PROMISE_RESOLVED_FALSE}var ne;function gt(e){ne=e}te.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return fe(this,"message",t)},postInternal:function(t){return fe(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Ae(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,pe(this,"message",n)):this._onML=null},addEventListener:function(t,n){var s=this.method.microSeconds(),l={time:s,fn:n};pe(this,t,l)},removeEventListener:function(t,n){var s=this._addEL[t].find(function(l){return l.fn===n});Ae(this,t,s)},close:function(){var t=this;if(!this.closed){de.delete(this),this.closed=!0;var n=this._prepP?this._prepP:N;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(s){return s()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function fe(e,t,n){var s=e.method.microSeconds(),l={time:s,type:t,data:n},d=e._prepP?e._prepP:N;return d.then(function(){var h=e.method.postMessage(e._state,l);return e._uMP.add(h),h.catch().then(function(){return e._uMP.delete(h)}),h})}function Qe(e){var t=e.method.create(e.name,e.options);A(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function ge(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function pe(e,t,n){e._addEL[t].push(n),Ye(e)}function Ae(e,t,n){e._addEL[t]=e._addEL[t].filter(function(s){return s!==n}),Xe(e)}function Ye(e){if(!e._iL&&ge(e)){var t=function(l){e._addEL[l.type].forEach(function(d){var h=1e5,_=d.time-h;l.time>=_&&d.fn(l.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function Xe(e){if(e._iL&&!ge(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}let et=e=>crypto.getRandomValues(new Uint8Array(e)),tt=(e,t,n)=>{let s=(2<<Math.log(e.length-1)/Math.LN2)-1,l=-~(1.6*s*t/e.length);return(d=t)=>{let h="";for(;;){let _=n(l),w=l;for(;w--;)if(h+=e[_[w]&s]||"",h.length===d)return h}}},pt=(e,t=21)=>tt(e,t,et),he=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let s=n[e]&63;s<36?t+=s.toString(36):s<62?t+=(s-26).toString(36).toUpperCase():s<63?t+="_":t+="-"}return t};var nt=(e,t,n)=>new Promise((s,l)=>{var d=w=>{try{_(n.next(w))}catch($){l($)}},h=w=>{try{_(n.throw(w))}catch($){l($)}},_=w=>w.done?s(w.value):Promise.resolve(w.value).then(d,h);_((n=n.apply(e,t)).next())});const rt=e=>`${e}_${he()}_callback`;class ye{constructor(){this.listeners={}}addListener(t,n){const s=this.listeners[t]||[];s.push(n),this.listeners[t]=s}once(t,n){this.addListener(t,s=>(delete this.listeners[t],n(s)))}emit(t,n){return new Promise((s,l)=>{const d=rt(t);this.once(d,h=>nt(this,null,function*(){var _;if(!((_=h.data)==null?void 0:_.error)){s(h.data.params);return}l(h.data.error)})),this.send({method:t,data:{cbMethod:d,params:n}})})}disconnect(){}}class st extends ye{constructor(t){super();this.port=new te(t),this.port.addEventListener("message",n=>{const s=n.method;!s||!this.listeners[s]||this.listeners[s].forEach(l=>l(n))})}listen(t){const n=s=>{t(s)};return this.port.addEventListener("message",n),()=>this.port.removeEventListener("message",n)}send(t){this.port.postMessage(t)}disconnect(){this.port.close()}}var At=Y(97034),ve;const re=typeof chrome!="object"||!((ve=chrome==null?void 0:chrome.runtime)==null?void 0:ve.id)?{}:Y(9171),be=re;be.action=re.action||re.browserAction;const yt=()=>{var e;return!!((e=chrome.storage)==null?void 0:e.session)},X=be;var it=(e,t,n)=>new Promise((s,l)=>{var d=w=>{try{_(n.next(w))}catch($){l($)}},h=w=>{try{_(n.throw(w))}catch($){l($)}},_=w=>w.done?s(w.value):Promise.resolve(w.value).then(d,h);_((n=n.apply(e,t)).next())});const vt=e=>it(void 0,null,function*(){(yield browser.tabs.query({})).forEach(n=>{n.id&&browser.tabs.sendMessage(n.id,e).catch(s=>s)})});class ot extends ye{constructor(t){super();this.port=X.runtime.connect({name:t||"extension-message"}),this.port.onMessage.addListener(n=>{const s=n.method;!s||!this.listeners[s]||this.listeners[s].forEach(l=>l(n))})}send(t){this.port.postMessage(t)}listen(t){this.port.onMessage.addListener(n=>{t(n)})}disconnect(){this.port.disconnect()}}const at=e=>(X.runtime.onMessage.addListener(e),()=>X.runtime.onMessage.removeListener(e)),bt=e=>browser.runtime.sendMessage(e),_t="0x095ea7b3",xt="0xaa7415f5",wt=[{type:"constructor",stateMutability:"nonpayable",payable:!1,inputs:[]},{type:"event",name:"Approval",inputs:[{type:"address",name:"owner",internalType:"address",indexed:!0},{type:"address",name:"spender",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{type:"address",name:"from",internalType:"address",indexed:!0},{type:"address",name:"to",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"uint8",name:"",internalType:"uint8"}],name:"_decimals",inputs:[],constant:!0},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"string",name:"",internalType:"string"}],name:"_name",inputs:[],constant:!0},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"string",name:"",internalType:"string"}],name:"_symbol",inputs:[],constant:!0},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"allowance",inputs:[{type:"address",name:"owner",internalType:"address"},{type:"address",name:"spender",internalType:"address"}],constant:!0},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[{type:"bool",name:"",internalType:"bool"}],name:"approve",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}],constant:!1},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"balanceOf",inputs:[{type:"address",name:"account",internalType:"address"}],constant:!0},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"decimals",inputs:[],constant:!0},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[{type:"bool",name:"",internalType:"bool"}],name:"decreaseAllowance",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"subtractedValue",internalType:"uint256"}],constant:!1},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"address",name:"",internalType:"address"}],name:"getOwner",inputs:[],constant:!0},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[{type:"bool",name:"",internalType:"bool"}],name:"increaseAllowance",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"addedValue",internalType:"uint256"}],constant:!1},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[{type:"bool",name:"",internalType:"bool"}],name:"mint",inputs:[{type:"uint256",name:"amount",internalType:"uint256"}],constant:!1},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[],constant:!0},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[],name:"renounceOwnership",inputs:[],constant:!1},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"string",name:"",internalType:"string"}],name:"symbol",inputs:[],constant:!0},{type:"function",stateMutability:"view",payable:!1,outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupply",inputs:[],constant:!0},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transfer",inputs:[{type:"address",name:"recipient",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}],constant:!1},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transferFrom",inputs:[{type:"address",name:"sender",internalType:"address"},{type:"address",name:"recipient",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}],constant:!1},{type:"function",stateMutability:"nonpayable",payable:!1,outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}],constant:!1}],Tt=375,Et=600,lt="in_page_channel",ut="in-page-script-id",Lt="popup_channel",Ct={notificationConfirmPrefix:"INTERNAL_notificationConfirm_",notificationCancelPrefix:"INTERNAL_notificationCancel_",keyringControllerGetAccounts:"INTERNAL_keyringControllerGetAccounts",keyringControllerGetSeedPhrase:"INTERNAL_keyringControllerGetSeedPhrase",keyringControllerGetWallets:"keyringControllerGetWallets",keyringControllerUnlockKeyrings:"INTERNAL_keyringControllerUnlockKeyrings",keyringControllerLock:"INTERNAL_keyringControllerLock",keyringControllerRunTimer:"INTERNAL_keyringControllerRunTimer",keyringControllerStopTimer:"INTERNAL_keyringControllerStopTimer",prepareSendTx:"INTERNAL_prepareSendTx",startPollGasFees:"INTERNAL_startPollGasFees",stopPollGasFees:"INTERNAL_stopPollGasFees",sendInternalTx:"INTERNAL_sendInternalTx",appControllerCreateVault:"INTERNAL_appControllerCreateVault",appControllerRestoreVault:"INTERNAL_appControllerRestoreVault",appControllerReset:"INTERNAL_appControllerReset",appControllerSetIsAnalyticsEnabled:"INTERNAL_appControllerSetIsAnalyticsEnabled",fiatControllerStartPollFiat:"INTERNAL_fiatControllerStartPollFiat",fiatControllerStopPollFiat:"INTERNAL_fiatControllerStopPollFiat",assetControllerAddAsset:"INTERNAL_assetControllerAddAsset",networkControllerAddNetwork:"INTERNAL_networkControllerAddNetwork",networkControllerRemoveNetwork:"INTERNAL_networkControllerRemoveNetwork",apiControllerFetch:"INTERNAL_apiControllerFetch"},Mt={getAppSettings:"PUBLIC_getAppSettings",getAccountState:"PUBLIC_getAccountState",broadcastChainChanged:"PUBLIC_broadcastChainChanged_callback",broadcastAccountsChanged:"PUBLIC_broadcastAccountsChanged_callback",broadcastDefaultWalletChanged:"PUBLIC_broadcastDefaultWalletChanged_callback"},ct="chromeV3",mt=e=>{const t=document.head||document.documentElement,n=document.createElement("script");if(n.setAttribute("type","text/javascript"),n.id=ut,n.setAttribute("data-name",e),ct==="chromeV3"){const s=X.runtime.getURL("inpage.js");n.src=s}else n.textContent="(()=>{var pe={97034:T=>{\"use strict\";var p=typeof Reflect==\"object\"?Reflect:null,E=p&&typeof p.apply==\"function\"?p.apply:function(s,a,c){return Function.prototype.apply.call(s,a,c)},M;p&&typeof p.ownKeys==\"function\"?M=p.ownKeys:Object.getOwnPropertySymbols?M=function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:M=function(s){return Object.getOwnPropertyNames(s)};function I(i){console&&console.warn&&console.warn(i)}var B=Number.isNaN||function(s){return s!==s};function m(){m.init.call(this)}T.exports=m,T.exports.once=F,m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var $=10;function P(i){if(typeof i!=\"function\")throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(m,\"defaultMaxListeners\",{enumerable:!0,get:function(){return $},set:function(i){if(typeof i!=\"number\"||i<0||B(i))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+i+\".\");$=i}}),m.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(s){if(typeof s!=\"number\"||s<0||B(s))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+s+\".\");return this._maxListeners=s,this};function k(i){return i._maxListeners===void 0?m.defaultMaxListeners:i._maxListeners}m.prototype.getMaxListeners=function(){return k(this)},m.prototype.emit=function(s){for(var a=[],c=1;c<arguments.length;c++)a.push(arguments[c]);var g=s===\"error\",b=this._events;if(b!==void 0)g=g&&b.error===void 0;else if(!g)return!1;if(g){var o;if(a.length>0&&(o=a[0]),o instanceof Error)throw o;var d=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw d.context=o,d}var u=b[s];if(u===void 0)return!1;if(typeof u==\"function\")E(u,this,a);else for(var A=u.length,C=O(u,A),c=0;c<A;++c)E(C[c],this,a);return!0};function S(i,s,a,c){var g,b,o;if(P(a),b=i._events,b===void 0?(b=i._events=Object.create(null),i._eventsCount=0):(b.newListener!==void 0&&(i.emit(\"newListener\",s,a.listener?a.listener:a),b=i._events),o=b[s]),o===void 0)o=b[s]=a,++i._eventsCount;else if(typeof o==\"function\"?o=b[s]=c?[a,o]:[o,a]:c?o.unshift(a):o.push(a),g=k(i),g>0&&o.length>g&&!o.warned){o.warned=!0;var d=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\" \"+String(s)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");d.name=\"MaxListenersExceededWarning\",d.emitter=i,d.type=s,d.count=o.length,I(d)}return i}m.prototype.addListener=function(s,a){return S(this,s,a,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(s,a){return S(this,s,a,!0)};function D(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function J(i,s,a){var c={fired:!1,wrapFn:void 0,target:i,type:s,listener:a},g=D.bind(c);return g.listener=a,c.wrapFn=g,g}m.prototype.once=function(s,a){return P(a),this.on(s,J(this,s,a)),this},m.prototype.prependOnceListener=function(s,a){return P(a),this.prependListener(s,J(this,s,a)),this},m.prototype.removeListener=function(s,a){var c,g,b,o,d;if(P(a),g=this._events,g===void 0)return this;if(c=g[s],c===void 0)return this;if(c===a||c.listener===a)--this._eventsCount===0?this._events=Object.create(null):(delete g[s],g.removeListener&&this.emit(\"removeListener\",s,c.listener||a));else if(typeof c!=\"function\"){for(b=-1,o=c.length-1;o>=0;o--)if(c[o]===a||c[o].listener===a){d=c[o].listener,b=o;break}if(b<0)return this;b===0?c.shift():y(c,b),c.length===1&&(g[s]=c[0]),g.removeListener!==void 0&&this.emit(\"removeListener\",s,d||a)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(s){var a,c,g;if(c=this._events,c===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[s]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete c[s]),this;if(arguments.length===0){var b=Object.keys(c),o;for(g=0;g<b.length;++g)o=b[g],o!==\"removeListener\"&&this.removeAllListeners(o);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(a=c[s],typeof a==\"function\")this.removeListener(s,a);else if(a!==void 0)for(g=a.length-1;g>=0;g--)this.removeListener(s,a[g]);return this};function K(i,s,a){var c=i._events;if(c===void 0)return[];var g=c[s];return g===void 0?[]:typeof g==\"function\"?a?[g.listener||g]:[g]:a?N(g):O(g,g.length)}m.prototype.listeners=function(s){return K(this,s,!0)},m.prototype.rawListeners=function(s){return K(this,s,!1)},m.listenerCount=function(i,s){return typeof i.listenerCount==\"function\"?i.listenerCount(s):j.call(i,s)},m.prototype.listenerCount=j;function j(i){var s=this._events;if(s!==void 0){var a=s[i];if(typeof a==\"function\")return 1;if(a!==void 0)return a.length}return 0}m.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]};function O(i,s){for(var a=new Array(s),c=0;c<s;++c)a[c]=i[c];return a}function y(i,s){for(;s+1<i.length;s++)i[s]=i[s+1];i.pop()}function N(i){for(var s=new Array(i.length),a=0;a<s.length;++a)s[a]=i[a].listener||i[a];return s}function F(i,s){return new Promise(function(a,c){function g(o){i.removeListener(s,b),c(o)}function b(){typeof i.removeListener==\"function\"&&i.removeListener(\"error\",g),a([].slice.call(arguments))}L(i,s,b,{once:!0}),s!==\"error\"&&x(i,g,{once:!0})})}function x(i,s,a){typeof i.on==\"function\"&&L(i,\"error\",s,a)}function L(i,s,a,c){if(typeof i.on==\"function\")c.once?i.once(s,a):i.on(s,a);else if(typeof i.addEventListener==\"function\")i.addEventListener(s,function g(b){c.once&&i.removeEventListener(s,g),a(b)});else throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof i)}},63810:function(T,p,E){var M,I;(function(B,m){\"use strict\";M=m,I=typeof M==\"function\"?M.call(p,E,p,T):M,I!==void 0&&(T.exports=I)})(this,function(){\"use strict\";var B=function(){},m=\"undefined\",$=typeof window!==m&&typeof window.navigator!==m&&/Trident\\/|MSIE /.test(window.navigator.userAgent),P=[\"trace\",\"debug\",\"info\",\"warn\",\"error\"];function k(x,L){var i=x[L];if(typeof i.bind==\"function\")return i.bind(x);try{return Function.prototype.bind.call(i,x)}catch(s){return function(){return Function.prototype.apply.apply(i,[x,arguments])}}}function S(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function D(x){return x===\"debug\"&&(x=\"log\"),typeof console===m?!1:x===\"trace\"&&$?S:console[x]!==void 0?k(console,x):console.log!==void 0?k(console,\"log\"):B}function J(x,L){for(var i=0;i<P.length;i++){var s=P[i];this[s]=i<x?B:this.methodFactory(s,x,L)}this.log=this.debug}function K(x,L,i){return function(){typeof console!==m&&(J.call(this,L,i),this[x].apply(this,arguments))}}function j(x,L,i){return D(x)||K.apply(this,arguments)}function O(x,L,i){var s=this,a;L=L==null?\"WARN\":L;var c=\"loglevel\";typeof x==\"string\"?c+=\":\"+x:typeof x==\"symbol\"&&(c=void 0);function g(u){var A=(P[u]||\"silent\").toUpperCase();if(!(typeof window===m||!c)){try{window.localStorage[c]=A;return}catch(C){}try{window.document.cookie=encodeURIComponent(c)+\"=\"+A+\";\"}catch(C){}}}function b(){var u;if(!(typeof window===m||!c)){try{u=window.localStorage[c]}catch(U){}if(typeof u===m)try{var A=window.document.cookie,C=A.indexOf(encodeURIComponent(c)+\"=\");C!==-1&&(u=/^([^;]+)/.exec(A.slice(C))[1])}catch(U){}return s.levels[u]===void 0&&(u=void 0),u}}function o(){if(!(typeof window===m||!c)){try{window.localStorage.removeItem(c);return}catch(u){}try{window.document.cookie=encodeURIComponent(c)+\"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\"}catch(u){}}}s.name=x,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||j,s.getLevel=function(){return a},s.setLevel=function(u,A){if(typeof u==\"string\"&&s.levels[u.toUpperCase()]!==void 0&&(u=s.levels[u.toUpperCase()]),typeof u==\"number\"&&u>=0&&u<=s.levels.SILENT){if(a=u,A!==!1&&g(u),J.call(s,u,x),typeof console===m&&u<s.levels.SILENT)return\"No console available for logging\"}else throw\"log.setLevel() called with invalid level: \"+u},s.setDefaultLevel=function(u){L=u,b()||s.setLevel(u,!1)},s.resetLevel=function(){s.setLevel(L,!1),o()},s.enableAll=function(u){s.setLevel(s.levels.TRACE,u)},s.disableAll=function(u){s.setLevel(s.levels.SILENT,u)};var d=b();d==null&&(d=L),s.setLevel(d,!1)}var y=new O,N={};y.getLogger=function(L){if(typeof L!=\"symbol\"&&typeof L!=\"string\"||L===\"\")throw new TypeError(\"You must supply a name when creating a logger.\");var i=N[L];return i||(i=N[L]=new O(L,y.getLevel(),y.methodFactory)),i};var F=typeof window!==m?window.log:void 0;return y.noConflict=function(){return typeof window!==m&&window.log===y&&(window.log=F),y},y.getLoggers=function(){return N},y.default=y,y})},16171:T=>{var p=T.exports={},E,M;function I(){throw new Error(\"setTimeout has not been defined\")}function B(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{typeof setTimeout==\"function\"?E=setTimeout:E=I}catch(y){E=I}try{typeof clearTimeout==\"function\"?M=clearTimeout:M=B}catch(y){M=B}})();function m(y){if(E===setTimeout)return setTimeout(y,0);if((E===I||!E)&&setTimeout)return E=setTimeout,setTimeout(y,0);try{return E(y,0)}catch(N){try{return E.call(null,y,0)}catch(F){return E.call(this,y,0)}}}function $(y){if(M===clearTimeout)return clearTimeout(y);if((M===B||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(y);try{return M(y)}catch(N){try{return M.call(null,y)}catch(F){return M.call(this,y)}}}var P=[],k=!1,S,D=-1;function J(){!k||!S||(k=!1,S.length?P=S.concat(P):D=-1,P.length&&K())}function K(){if(!k){var y=m(J);k=!0;for(var N=P.length;N;){for(S=P,P=[];++D<N;)S&&S[D].run();D=-1,N=P.length}S=null,k=!1,$(y)}}p.nextTick=function(y){var N=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)N[F-1]=arguments[F];P.push(new j(y,N)),P.length===1&&!k&&m(K)};function j(y,N){this.fun=y,this.array=N}j.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={};function O(){}p.on=O,p.addListener=O,p.once=O,p.off=O,p.removeListener=O,p.removeAllListeners=O,p.emit=O,p.prependListener=O,p.prependOnceListener=O,p.listeners=function(y){return[]},p.binding=function(y){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(y){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},9171:function(T,p){var E,M,I;(function(B,m){if(!0)M=[T],E=m,I=typeof E==\"function\"?E.apply(p,M):E,I!==void 0&&(T.exports=I);else var $})(typeof globalThis!=\"undefined\"?globalThis:typeof self!=\"undefined\"?self:this,function(B){\"use strict\";if(typeof browser==\"undefined\"||Object.getPrototypeOf(browser)!==Object.prototype){const m=\"The message port closed before a response was received.\",$=\"Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)\",P=k=>{const S={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(S).length===0)throw new Error(\"api-metadata.json has not been included in browser-polyfill\");class D extends WeakMap{constructor(d,u=void 0){super(u);this.createItem=d}get(d){return this.has(d)||this.set(d,this.createItem(d)),super.get(d)}}const J=o=>o&&typeof o==\"object\"&&typeof o.then==\"function\",K=(o,d)=>(...u)=>{k.runtime.lastError?o.reject(new Error(k.runtime.lastError.message)):d.singleCallbackArg||u.length<=1&&d.singleCallbackArg!==!1?o.resolve(u[0]):o.resolve(u)},j=o=>o==1?\"argument\":\"arguments\",O=(o,d)=>function(A,...C){if(C.length<d.minArgs)throw new Error(`Expected at least ${d.minArgs} ${j(d.minArgs)} for ${o}(), got ${C.length}`);if(C.length>d.maxArgs)throw new Error(`Expected at most ${d.maxArgs} ${j(d.maxArgs)} for ${o}(), got ${C.length}`);return new Promise((U,W)=>{if(d.fallbackToNoCallback)try{A[o](...C,K({resolve:U,reject:W},d))}catch(v){console.warn(`${o} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,v),A[o](...C),d.fallbackToNoCallback=!1,d.noCallback=!0,U()}else d.noCallback?(A[o](...C),U()):A[o](...C,K({resolve:U,reject:W},d))})},y=(o,d,u)=>new Proxy(d,{apply(A,C,U){return u.call(C,o,...U)}});let N=Function.call.bind(Object.prototype.hasOwnProperty);const F=(o,d={},u={})=>{let A=Object.create(null),C={has(W,v){return v in o||v in A},get(W,v,V){if(v in A)return A[v];if(!(v in o))return;let R=o[v];if(typeof R==\"function\")if(typeof d[v]==\"function\")R=y(o,o[v],d[v]);else if(N(u,v)){let z=O(v,u[v]);R=y(o,o[v],z)}else R=R.bind(o);else if(typeof R==\"object\"&&R!==null&&(N(d,v)||N(u,v)))R=F(R,d[v],u[v]);else if(N(u,\"*\"))R=F(R,d[v],u[\"*\"]);else return Object.defineProperty(A,v,{configurable:!0,enumerable:!0,get(){return o[v]},set(z){o[v]=z}}),R;return A[v]=R,R},set(W,v,V,R){return v in A?A[v]=V:o[v]=V,!0},defineProperty(W,v,V){return Reflect.defineProperty(A,v,V)},deleteProperty(W,v){return Reflect.deleteProperty(A,v)}},U=Object.create(o);return new Proxy(U,C)},x=o=>({addListener(d,u,...A){d.addListener(o.get(u),...A)},hasListener(d,u){return d.hasListener(o.get(u))},removeListener(d,u){d.removeListener(o.get(u))}}),L=new D(o=>typeof o!=\"function\"?o:function(u){const A=F(u,{},{getContent:{minArgs:0,maxArgs:0}});o(A)});let i=!1;const s=new D(o=>typeof o!=\"function\"?o:function(u,A,C){let U=!1,W,v=new Promise(Y=>{W=function(H){i||(console.warn($,new Error().stack),i=!0),U=!0,Y(H)}}),V;try{V=o(u,A,W)}catch(Y){V=Promise.reject(Y)}const R=V!==!0&&J(V);if(V!==!0&&!R&&!U)return!1;const z=Y=>{Y.then(H=>{C(H)},H=>{let Z;H&&(H instanceof Error||typeof H.message==\"string\")?Z=H.message:Z=\"An unexpected error occurred\",C({__mozWebExtensionPolyfillReject__:!0,message:Z})}).catch(H=>{console.error(\"Failed to send onMessage rejected reply\",H)})};return z(R?V:v),!0}),a=({reject:o,resolve:d},u)=>{k.runtime.lastError?k.runtime.lastError.message===m?d():o(new Error(k.runtime.lastError.message)):u&&u.__mozWebExtensionPolyfillReject__?o(new Error(u.message)):d(u)},c=(o,d,u,...A)=>{if(A.length<d.minArgs)throw new Error(`Expected at least ${d.minArgs} ${j(d.minArgs)} for ${o}(), got ${A.length}`);if(A.length>d.maxArgs)throw new Error(`Expected at most ${d.maxArgs} ${j(d.maxArgs)} for ${o}(), got ${A.length}`);return new Promise((C,U)=>{const W=a.bind(null,{resolve:C,reject:U});A.push(W),u.sendMessage(...A)})},g={devtools:{network:{onRequestFinished:x(L)}},runtime:{onMessage:x(s),onMessageExternal:x(s),sendMessage:c.bind(null,\"sendMessage\",{minArgs:1,maxArgs:3})},tabs:{sendMessage:c.bind(null,\"sendMessage\",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return S.privacy={network:{\"*\":b},services:{\"*\":b},websites:{\"*\":b}},F(k,g,S)};if(typeof chrome!=\"object\"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error(\"This script should only be loaded in a browser extension.\");B.exports=P(chrome)}else B.exports=browser})}},re={};function G(T){var p=re[T];if(p!==void 0)return p.exports;var E=re[T]={exports:{}};return pe[T].call(E.exports,E,E.exports,G),E.exports}G.n=T=>{var p=T&&T.__esModule?()=>T.default:()=>T;return G.d(p,{a:p}),p},G.d=(T,p)=>{for(var E in p)G.o(p,E)&&!G.o(T,E)&&Object.defineProperty(T,E,{enumerable:!0,get:p[E]})},G.o=(T,p)=>Object.prototype.hasOwnProperty.call(T,p);var ct={};(()=>{\"use strict\";var T=G(16171);function p(e){return!!(e&&typeof e.then==\"function\")}var E=Promise.resolve(!1),M=Promise.resolve(!0),I=Promise.resolve();function B(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function m(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function $(){return Math.random().toString(36).substring(2)}var P=0,k=0;function S(){var e=new Date().getTime();return e===P?(k++,e*1e3+k):(P=e,k=0,e*1e3)}var D=Object.prototype.toString.call(typeof T!=\"undefined\"?T:0)===\"[object process]\",J=S,K=\"native\";function j(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function O(e){e.bc.close(),e.subFns=[]}function y(e,t){try{return e.bc.postMessage(t,!1),I}catch(n){return Promise.reject(n)}}function N(e,t){e.messagesCallback=t}function F(){if(D&&typeof window==\"undefined\")return!1;if(typeof BroadcastChannel==\"function\"){if(BroadcastChannel._pubkey)throw new Error(\"BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill\");return!0}else return!1}function x(){return 150}const L={create:j,close:O,onMessage:N,postMessage:y,canBeUsed:F,type:K,averageResponseTime:x,microSeconds:J};var i=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,a()),this.set.add(t),setTimeout(function(){s(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function s(e){for(var t=a()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var l=e.timeMap.get(r);if(l<t)e.timeMap.delete(r),e.set.delete(r);else return}}function a(){return new Date().getTime()}function c(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport==\"undefined\"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose==\"function\"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath==\"undefined\"&&(t.node.useFastPath=!0),t}var g=S,b=\"pubkey.broadcast-channel-0-\",o=\"messages\",d=\"idb\";function u(){if(typeof indexedDB!=\"undefined\")return indexedDB;if(typeof window!=\"undefined\"){if(typeof window.mozIndexedDB!=\"undefined\")return window.mozIndexedDB;if(typeof window.webkitIndexedDB!=\"undefined\")return window.webkitIndexedDB;if(typeof window.msIndexedDB!=\"undefined\")return window.msIndexedDB}return!1}function A(e){var t=u(),n=b+e,r=t.open(n,1);r.onupgradeneeded=function(f){var h=f.target.result;h.createObjectStore(o,{keyPath:\"id\",autoIncrement:!0})};var l=new Promise(function(f,h){r.onerror=function(w){return h(w)},r.onsuccess=function(){f(r.result)}});return l}function C(e,t,n){var r=new Date().getTime(),l={uuid:t,time:r,data:n},f=e.transaction([o],\"readwrite\");return new Promise(function(h,w){f.oncomplete=function(){return h()},f.onerror=function(q){return w(q)};var _=f.objectStore(o);_.add(l)})}function U(e){var t=e.transaction(o).objectStore(o),n=[];return new Promise(function(r){t.openCursor().onsuccess=function(l){var f=l.target.result;f?(n.push(f.value),f.continue()):r(n)}})}function W(e,t){var n=e.transaction(o).objectStore(o),r=[];function l(){try{var f=IDBKeyRange.bound(t+1,1/0);return n.openCursor(f)}catch(h){return n.openCursor()}}return new Promise(function(f){l().onsuccess=function(h){var w=h.target.result;w?w.value.id<t+1?w.continue(t+1):(r.push(w.value),w.continue()):f(r)}})}function v(e,t){var n=e.transaction([o],\"readwrite\").objectStore(o).delete(t);return new Promise(function(r){n.onsuccess=function(){return r()}})}function V(e,t){var n=new Date().getTime()-t,r=e.transaction(o).objectStore(o),l=[];return new Promise(function(f){r.openCursor().onsuccess=function(h){var w=h.target.result;if(w){var _=w.value;if(_.time<n)l.push(_),w.continue();else{f(l);return}}else f(l)}})}function R(e,t){return V(e,t).then(function(n){return Promise.all(n.map(function(r){return v(e,r.id)}))})}function z(e,t){return t=c(t),A(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:$(),eMIs:new i(t.idb.ttl*2),writeBlockPromise:I,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Y(r),r})}function Y(e){e.closed||Z(e).then(function(){return B(e.options.idb.fallbackInterval)}).then(function(){return Y(e)})}function H(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Z(e){return e.closed||!e.messagesCallback?I:W(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return H(r,e)}).sort(function(r,l){return r.time-l.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),I})}function he(e){e.closed=!0,e.db.close()}function Ae(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return C(e.db,e.uuid,t)}).then(function(){m(0,10)===0&&R(e.db,e.options.idb.ttl)}),e.writeBlockPromise}function ye(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Z(e)}function ve(){if(D)return!1;var e=u();return!!e}function be(e){return e.idb.fallbackInterval*2}const we={create:z,close:he,onMessage:ye,postMessage:Ae,canBeUsed:ve,type:d,averageResponseTime:be,microSeconds:g};var _e=S,xe=\"pubkey.broadcastChannel-\",Ee=\"localstorage\";function se(){var e;if(typeof window==\"undefined\")return null;try{e=window.localStorage,e=window[\"ie8-eventlistener/storage\"]||window.localStorage}catch(t){}return e}function ie(e){return xe+e}function Te(e,t){return new Promise(function(n){B().then(function(){var r=ie(e.channelName),l={token:$(),time:new Date().getTime(),data:t,uuid:e.uuid},f=JSON.stringify(l);se().setItem(r,f);var h=document.createEvent(\"Event\");h.initEvent(\"storage\",!0,!0),h.key=r,h.newValue=f,window.dispatchEvent(h),n()})})}function Le(e,t){var n=ie(e),r=function(f){f.key===n&&t(JSON.parse(f.newValue))};return window.addEventListener(\"storage\",r),r}function Ce(e){window.removeEventListener(\"storage\",e)}function Me(e,t){if(t=c(t),!oe())throw new Error(\"BroadcastChannel: localstorage cannot be used\");var n=$(),r=new i(t.localstorage.removeTimeout),l={channelName:e,uuid:n,eMIs:r};return l.listener=Le(e,function(f){!l.messagesCallback||f.uuid!==n&&(!f.token||r.has(f.token)||f.data.time&&f.data.time<l.messagesCallbackTime||(r.add(f.token),l.messagesCallback(f.data)))}),l}function Pe(e){Ce(e.listener)}function ke(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function oe(){if(D)return!1;var e=se();if(!e)return!1;try{var t=\"__broadcastchannel_check\";e.setItem(t,\"works\"),e.removeItem(t)}catch(n){return!1}return!0}function Ne(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes(\"safari\")&&!t.includes(\"chrome\")?e*2:e}const Ie={create:Me,close:Pe,onMessage:ke,postMessage:Te,canBeUsed:oe,type:Ee,averageResponseTime:Ne,microSeconds:_e};var Se=S,Re=\"simulate\",X=new Set;function Oe(e){var t={name:e,messagesCallback:null};return X.add(t),t}function Be(e){X.delete(e)}function Fe(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(X);r.filter(function(l){return l.name===e.name}).filter(function(l){return l!==e}).filter(function(l){return!!l.messagesCallback}).forEach(function(l){return l.messagesCallback(t)}),n()},5)})}function De(e,t){e.messagesCallback=t}function Ue(){return!0}function je(){return 5}const We={create:Oe,close:Be,onMessage:De,postMessage:Fe,canBeUsed:Ue,type:Re,averageResponseTime:je,microSeconds:Se};var ae=[L,we,Ie];function Ve(e){var t=[].concat(e.methods,ae).filter(Boolean);if(e.type){if(e.type===\"simulate\")return We;var n=t.find(function(l){return l.type===e.type});if(n)return n;throw new Error(\"method-type \"+e.type+\" not found\")}!e.webWorkerSupport&&!D&&(t=t.filter(function(l){return l.type!==\"idb\"}));var r=t.find(function(l){return l.canBeUsed()});if(r)return r;throw new Error(\"No useable method found in \"+JSON.stringify(ae.map(function(l){return l.type})))}var le=new Set,Ge=0,ee=function(t,n){this.id=Ge++,le.add(this),this.name=t,te&&(n=te),this.options=c(n),this.method=Ve(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,$e(this)};ee._pubkey=!0;function dt(e){e=fillOptionsWithDefaults(e);var t=chooseMethod(e);return t.type===\"node\"?t.clearNodeFolder().then(function(){return!0}):PROMISE_RESOLVED_FALSE}var te;function ft(e){te=e}ee.prototype={postMessage:function(t){if(this.closed)throw new Error(\"BroadcastChannel.postMessage(): Cannot post message after channel has closed \"+JSON.stringify(t));return ue(this,\"message\",t)},postInternal:function(t){return ue(this,\"internal\",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};fe(this,\"message\",this._onML),e&&typeof e==\"function\"?(this._onML=n,de(this,\"message\",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),l={time:r,fn:n};de(this,t,l)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(l){return l.fn===n});fe(this,t,r)},close:function(){var t=this;if(!this.closed){le.delete(this),this.closed=!0;var n=this._prepP?this._prepP:I;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function ue(e,t,n){var r=e.method.microSeconds(),l={time:r,type:t,data:n},f=e._prepP?e._prepP:I;return f.then(function(){var h=e.method.postMessage(e._state,l);return e._uMP.add(h),h.catch().then(function(){return e._uMP.delete(h)}),h})}function $e(e){var t=e.method.create(e.name,e.options);p(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function ce(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function de(e,t,n){e._addEL[t].push(n),qe(e)}function fe(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),Ke(e)}function qe(e){if(!e._iL&&ce(e)){var t=function(l){e._addEL[l.type].forEach(function(f){var h=1e5,w=f.time-h;l.time>=w&&f.fn(l.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function Ke(e){if(e._iL&&!ce(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}let He=e=>crypto.getRandomValues(new Uint8Array(e)),Je=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,l=-~(1.6*r*t/e.length);return(f=t)=>{let h=\"\";for(;;){let w=n(l),_=l;for(;_--;)if(h+=e[w[_]&r]||\"\",h.length===f)return h}}},mt=(e,t=21)=>Je(e,t,He),ze=(e=21)=>{let t=\"\",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=n[e]&63;r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r<63?t+=\"_\":t+=\"-\"}return t};var Ye=(e,t,n)=>new Promise((r,l)=>{var f=_=>{try{w(n.next(_))}catch(q){l(q)}},h=_=>{try{w(n.throw(_))}catch(q){l(q)}},w=_=>_.done?r(_.value):Promise.resolve(_.value).then(f,h);w((n=n.apply(e,t)).next())});const Ze=e=>`${e}_${ze()}_callback`;class Qe{constructor(){this.listeners={}}addListener(t,n){const r=this.listeners[t]||[];r.push(n),this.listeners[t]=r}once(t,n){this.addListener(t,r=>(delete this.listeners[t],n(r)))}emit(t,n){return new Promise((r,l)=>{const f=Ze(t);this.once(f,h=>Ye(this,null,function*(){var w;if(!((w=h.data)==null?void 0:w.error)){r(h.data.params);return}l(h.data.error)})),this.send({method:t,data:{cbMethod:f,params:n}})})}disconnect(){}}class Xe extends Qe{constructor(t){super();this.port=new ee(t),this.port.addEventListener(\"message\",n=>{const r=n.method;!r||!this.listeners[r]||this.listeners[r].forEach(l=>l(n))})}listen(t){const n=r=>{t(r)};return this.port.addEventListener(\"message\",n),()=>this.port.removeEventListener(\"message\",n)}send(t){this.port.postMessage(t)}disconnect(){this.port.close()}}var et=G(97034),tt=G.n(et),me;const ne=typeof chrome!=\"object\"||!((me=chrome==null?void 0:chrome.runtime)==null?void 0:me.id)?{}:G(9171),nt=ne;nt.action=ne.action||ne.browserAction;const pt=()=>{var e;return!!((e=chrome.storage)==null?void 0:e.session)},ht=null;var rt=(e,t,n)=>new Promise((r,l)=>{var f=_=>{try{w(n.next(_))}catch(q){l(q)}},h=_=>{try{w(n.throw(_))}catch(q){l(q)}},w=_=>_.done?r(_.value):Promise.resolve(_.value).then(f,h);w((n=n.apply(e,t)).next())});const At=e=>rt(void 0,null,function*(){(yield browser.tabs.query({})).forEach(n=>{n.id&&browser.tabs.sendMessage(n.id,e).catch(r=>r)})});class yt extends null{constructor(t){super();this.port=browser.runtime.connect({name:t||\"extension-message\"}),this.port.onMessage.addListener(n=>{const r=n.method;!r||!this.listeners[r]||this.listeners[r].forEach(l=>l(n))})}send(t){this.port.postMessage(t)}listen(t){this.port.onMessage.addListener(n=>{t(n)})}disconnect(){this.port.disconnect()}}const vt=e=>(browser.runtime.onMessage.addListener(e),()=>browser.runtime.onMessage.removeListener(e)),bt=e=>browser.runtime.sendMessage(e),wt=\"0x095ea7b3\",_t=\"0xaa7415f5\",xt=[{type:\"constructor\",stateMutability:\"nonpayable\",payable:!1,inputs:[]},{type:\"event\",name:\"Approval\",inputs:[{type:\"address\",name:\"owner\",internalType:\"address\",indexed:!0},{type:\"address\",name:\"spender\",internalType:\"address\",indexed:!0},{type:\"uint256\",name:\"value\",internalType:\"uint256\",indexed:!1}],anonymous:!1},{type:\"event\",name:\"OwnershipTransferred\",inputs:[{type:\"address\",name:\"previousOwner\",internalType:\"address\",indexed:!0},{type:\"address\",name:\"newOwner\",internalType:\"address\",indexed:!0}],anonymous:!1},{type:\"event\",name:\"Transfer\",inputs:[{type:\"address\",name:\"from\",internalType:\"address\",indexed:!0},{type:\"address\",name:\"to\",internalType:\"address\",indexed:!0},{type:\"uint256\",name:\"value\",internalType:\"uint256\",indexed:!1}],anonymous:!1},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"uint8\",name:\"\",internalType:\"uint8\"}],name:\"_decimals\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"string\",name:\"\",internalType:\"string\"}],name:\"_name\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"string\",name:\"\",internalType:\"string\"}],name:\"_symbol\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"uint256\",name:\"\",internalType:\"uint256\"}],name:\"allowance\",inputs:[{type:\"address\",name:\"owner\",internalType:\"address\"},{type:\"address\",name:\"spender\",internalType:\"address\"}],constant:!0},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[{type:\"bool\",name:\"\",internalType:\"bool\"}],name:\"approve\",inputs:[{type:\"address\",name:\"spender\",internalType:\"address\"},{type:\"uint256\",name:\"amount\",internalType:\"uint256\"}],constant:!1},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"uint256\",name:\"\",internalType:\"uint256\"}],name:\"balanceOf\",inputs:[{type:\"address\",name:\"account\",internalType:\"address\"}],constant:!0},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"uint256\",name:\"\",internalType:\"uint256\"}],name:\"decimals\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[{type:\"bool\",name:\"\",internalType:\"bool\"}],name:\"decreaseAllowance\",inputs:[{type:\"address\",name:\"spender\",internalType:\"address\"},{type:\"uint256\",name:\"subtractedValue\",internalType:\"uint256\"}],constant:!1},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"address\",name:\"\",internalType:\"address\"}],name:\"getOwner\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[{type:\"bool\",name:\"\",internalType:\"bool\"}],name:\"increaseAllowance\",inputs:[{type:\"address\",name:\"spender\",internalType:\"address\"},{type:\"uint256\",name:\"addedValue\",internalType:\"uint256\"}],constant:!1},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[{type:\"bool\",name:\"\",internalType:\"bool\"}],name:\"mint\",inputs:[{type:\"uint256\",name:\"amount\",internalType:\"uint256\"}],constant:!1},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"address\",name:\"\",internalType:\"address\"}],name:\"owner\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[],name:\"renounceOwnership\",inputs:[],constant:!1},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"string\",name:\"\",internalType:\"string\"}],name:\"symbol\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"view\",payable:!1,outputs:[{type:\"uint256\",name:\"\",internalType:\"uint256\"}],name:\"totalSupply\",inputs:[],constant:!0},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[{type:\"bool\",name:\"\",internalType:\"bool\"}],name:\"transfer\",inputs:[{type:\"address\",name:\"recipient\",internalType:\"address\"},{type:\"uint256\",name:\"amount\",internalType:\"uint256\"}],constant:!1},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[{type:\"bool\",name:\"\",internalType:\"bool\"}],name:\"transferFrom\",inputs:[{type:\"address\",name:\"sender\",internalType:\"address\"},{type:\"address\",name:\"recipient\",internalType:\"address\"},{type:\"uint256\",name:\"amount\",internalType:\"uint256\"}],constant:!1},{type:\"function\",stateMutability:\"nonpayable\",payable:!1,outputs:[],name:\"transferOwnership\",inputs:[{type:\"address\",name:\"newOwner\",internalType:\"address\"}],constant:!1}],Et=375,Tt=600,Lt=\"in_page_channel\",st=\"in-page-script-id\",Ct=\"popup_channel\",Mt={notificationConfirmPrefix:\"INTERNAL_notificationConfirm_\",notificationCancelPrefix:\"INTERNAL_notificationCancel_\",keyringControllerGetAccounts:\"INTERNAL_keyringControllerGetAccounts\",keyringControllerGetSeedPhrase:\"INTERNAL_keyringControllerGetSeedPhrase\",keyringControllerGetWallets:\"keyringControllerGetWallets\",keyringControllerUnlockKeyrings:\"INTERNAL_keyringControllerUnlockKeyrings\",keyringControllerLock:\"INTERNAL_keyringControllerLock\",keyringControllerRunTimer:\"INTERNAL_keyringControllerRunTimer\",keyringControllerStopTimer:\"INTERNAL_keyringControllerStopTimer\",prepareSendTx:\"INTERNAL_prepareSendTx\",startPollGasFees:\"INTERNAL_startPollGasFees\",stopPollGasFees:\"INTERNAL_stopPollGasFees\",sendInternalTx:\"INTERNAL_sendInternalTx\",appControllerCreateVault:\"INTERNAL_appControllerCreateVault\",appControllerRestoreVault:\"INTERNAL_appControllerRestoreVault\",appControllerReset:\"INTERNAL_appControllerReset\",appControllerSetIsAnalyticsEnabled:\"INTERNAL_appControllerSetIsAnalyticsEnabled\",fiatControllerStartPollFiat:\"INTERNAL_fiatControllerStartPollFiat\",fiatControllerStopPollFiat:\"INTERNAL_fiatControllerStopPollFiat\",assetControllerAddAsset:\"INTERNAL_assetControllerAddAsset\",networkControllerAddNetwork:\"INTERNAL_networkControllerAddNetwork\",networkControllerRemoveNetwork:\"INTERNAL_networkControllerRemoveNetwork\",apiControllerFetch:\"INTERNAL_apiControllerFetch\"},Q={getAppSettings:\"PUBLIC_getAppSettings\",getAccountState:\"PUBLIC_getAccountState\",broadcastChainChanged:\"PUBLIC_broadcastChainChanged_callback\",broadcastAccountsChanged:\"PUBLIC_broadcastAccountsChanged_callback\",broadcastDefaultWalletChanged:\"PUBLIC_broadcastDefaultWalletChanged_callback\"};var it=G(63810),ge=G.n(it);const ot=!1;ge().setLevel(ot?\"DEBUG\":\"INFO\");const at=ge();var lt=(e,t,n)=>new Promise((r,l)=>{var f=_=>{try{w(n.next(_))}catch(q){l(q)}},h=_=>{try{w(n.throw(_))}catch(q){l(q)}},w=_=>_.done?r(_.value):Promise.resolve(_.value).then(f,h);w((n=n.apply(e,t)).next())});class ut extends tt(){constructor({broadcast:t}){super();this.isMetaMask=!0,this.isTrustWallet=!0,this._broadcast={},this._isConnected=!0,this.chainId=\"\",this.networkVersion=\"\",this.selectedAddress=null,this.isConnected=()=>this._isConnected,this.enable=()=>this._broadcast.emit(\"eth_requestAccounts\"),this._metamask={isUnlocked:()=>this._broadcast.emit(Q.getAccountState).then(n=>n.isUnlocked)},this.request=({method:n,params:r})=>this._broadcast.emit(n,r),this._broadcast=t,this._broadcast.emit(Q.getAccountState).then(n=>{this.chainId=n.chainId,this.selectedAddress=n.selectedAddress,this.networkVersion=n.networkVersion,this.emit(\"connect\",{chainId:this.chainId})}),this._broadcast.addListener(Q.broadcastChainChanged,n=>{const r=n.data.params;r!==this.chainId&&(this.emit(\"chainChanged\",r),this.emit(\"networkChanged\",Number(r))),this.chainId=r}),this._broadcast.addListener(Q.broadcastAccountsChanged,n=>{const r=n.data.params||null;r!==this.selectedAddress&&this.emit(\"accountsChanged\",r?[r]:[]),this.selectedAddress=r}),this._broadcast.addListener(Q.broadcastDefaultWalletChanged,n=>{const r=n.data.params?window.trustwallet:window.original;window.web3={currentProvider:r,__isMetaMaskShim__:!0},window.ethereum=r}),at.debug(\"TEW isConnected\")}on(t,n){return super.on(t,n)}off(t,n){return super.off(t,n)}sendAsync(t,n){return lt(this,null,function*(){const r=Array.isArray(t);try{const l=r?t:[t],f=yield Promise.all(l.map(h=>this.request({method:h.method,params:h.params})));if(!r){const h=t;n(null,{id:h.id,jsonrpc:h.jsonrpc,result:f[0]});return}n(null,f.map((h,w)=>{const _=l[w];return{id:_.id,jsonrpc:_.jsonrpc,result:h}}))}catch(l){n(l,t)}})}send(t,n){return typeof t==\"string\"?this.request({method:t,params:n}).then(r=>({id:\"\",jsonrpc:\"2.0\",method:t,result:r})):n?this.sendAsync(t,n):this.request({method:t.method,params:t.params})}}(()=>{const e=document.getElementById(st),t=e==null?void 0:e.getAttribute(\"data-name\"),n=new Xe(t),r=new ut({broadcast:n});window.trustwallet=new Proxy(r,{deleteProperty:()=>!0}),window.original=window.ethereum,window.trustwallet.request({method:Q.getAppSettings}).then(l=>{const f=l.isDefaultWallet?window.trustwallet:window.original;window.web3={currentProvider:f,__isMetaMaskShim__:!0},window.ethereum=f}),window.dispatchEvent(new Event(\"ethereum#initialized\"))})()})()})();\n";t.insertBefore(n,t.children[0]),n.onload=()=>{t.removeChild(n)}},se=`${lt}_${he(6)}`;mt(se);const ie=new st(se);let oe,Q;const _e=()=>{Q==null||Q.disconnect(),Q=new ot(se),oe&&oe(),oe=ie.listen(e=>{var t;return!((t=e.method)==null?void 0:t.endsWith("_callback"))&&Q.send(e)}),Q.listen(e=>{var t;return((t=e.method)==null?void 0:t.endsWith("_callback"))&&ie.send(e)}),at(e=>ie.send(e)),Q.port.onDisconnect.addListener(()=>{_e()})};_e()})()})();
